# 第十五章 编写大规模程序

源文件包含函数的定义和外部变量，而头文件包含可以在源文件之间共享的信息。

---

## 源文件

可以把程序分割成一定数量的源文件，源文件的扩展名为`.c`。源文件主要包含函数的定义和变量。其中一个源文件必须包含名为 main 的函数，作为程序的起始点。

把程序分成多个源文件有许多显著的优点：

- 把相关的函数和变量集合在单独一个文件中可以帮助明了程序的结构。

- 可以单独对每一个源文件进行编译。如果程序规模很大而且需要频繁改变的话，这种方法可以极大地节约时间。

- 利于复用。

## 头文件

当把程序分割成几个源文件时，问题也随之产生：某文件的函数如何能调用定义在其他文件中的函数？函数如何能访问其他文件中的外部变量？两个文件如何能共享同一个宏定义或类型定义？答案取决于`#include`指令。

`#include`指令告诉预处理器打开指定的文件，并且把此文件的内容插入到当前文件中。这种打开的文件称为头文件，其扩展名为`.h`。

### include 指令

`#include`指令有两种书写格式：

- `#include <文件名>` 搜索系统头文件所在目录，比如在 UNIX 系统中，通常是在 /usr/include

- `#include "文件名"` 搜索当前目录，然后搜索系统目录

利用加上诸如-I这样的命令行选项可以添加搜索头文件的位置。