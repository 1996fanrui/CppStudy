# 条款22：将成员变量声明为 private

结论如题。

---

## 为什么不采用 public 成员变量

第一个原因是语法一致性。如果成员变量不是 public 的，那么客户只能通过成员函数访问成员。否则，可能通过直接访问或函数访问两种方式，而这两种方式的写法是不一样的。

!!!note
	一致性可以减少编写代码时的心智负担。

使用函数访问可以对成员变量有更精确的控制，即有不准访问、只读访问、读写访问等。

更具说服性的原因是封装，因封装的存在，如果成员变量的发生了变化， class 的客户是不会知道的，也无需了解。如果不隐藏它们，那么改变将破坏掉客户码。

## 也不该定义 protected 成员变量

成员变量的封装性与“成员变量的内容改变时所破坏的代码数量”成反比。所谓改变，也许是从 class 中移除它。

对于 public 成员变量，如果移除，多少代码会被破坏？是所有的客户端码，那是一个大的数量。对于 protected 成员变量，如果移除，所有使用它的 derived classes 都会被破坏，这往往也是一个大的数量。因此， protected 成员变量就像 public 成员变量一样缺乏封装性。

从封装的角度观察，其实只有两种访问权限： private （提供封装）和其他 （不提供封装）。

!!!tip "请记住"
	- 切记将成员变量声明为 private 。这可赋予客户访问数据的一致性、可细微划分访问控制、允许约束条件获得保证，并提供 class 作者以充分的实现弹性。
	- protected 并不比 public 更具封装性。